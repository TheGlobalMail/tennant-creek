// variable for breakpoints
@smallerWidth:  680px;    // Phones
@smallWidth:    780px;    // Big phones, small tablets
@medWidth:      980px;    // Portrait tablets
@bigWidth:      1120px;   // Landscape tablets, smaller screens
@biggerWidth:   @bigWidth + 1px;   // Big screens (default, used as min-width)

@medScreenMargin: 20px;
@smlScreenMargin: 10px;

.responsiveBG(@imgName, @extension: 'jpg') {
  @imgBase: "/assets/images/@{imgName}-";
  // default to the largest image
  background-image: url("@{imgBase}5.@{extension}");

  @media only screen and (max-width: @bigWidth)     { background-image: url("@{imgBase}4.@{extension}"); }
  @media only screen and (max-width: @medWidth)     { background-image: url("@{imgBase}3.@{extension}"); }
  @media only screen and (max-width: @smallWidth)   { background-image: url("@{imgBase}2.@{extension}"); }
  @media only screen and (max-width: @smallerWidth) { background-image: url("@{imgBase}1.@{extension}"); }
}

.responsiveBGInArticle(@imgName, @extension: 'jpg') {
  @imgBase: "/assets/images/@{imgName}-";
  // default to the largest image
  background-image: url("@{imgBase}4.@{extension}");
  @media only screen and (max-width: @medWidth)     { background-image: url("@{imgBase}3.@{extension}"); }
  @media only screen and (max-width: @smallWidth)   { background-image: url("@{imgBase}2.@{extension}"); }
  @media only screen and (max-width: @smallerWidth) { background-image: url("@{imgBase}1.@{extension}"); }
}

.responsiveBGPortrait(@imgName, @extension: 'jpg') {
  @imgBase: "/assets/images/@{imgName}-";
  // default to the largest image
  background-image: url("@{imgBase}3.@{extension}");
  @media only screen and (max-width: @smallWidth)   { background-image: url("@{imgBase}2.@{extension}"); }
  @media only screen and (max-width: @smallerWidth) { background-image: url("@{imgBase}1.@{extension}"); }
}

// iPad Landscape & smaller screens
@media only screen and (max-width: @bigWidth) {
	.article-section > p {
		font-size: 18px; 
	}
	.article-section > blockquote p,
	.article-section p.drop-cap,
	.quote-with-portrait .quote-text,
	.slide .text-container .text {
	 	font-size: 1.6em;
	}

	.slide .text-container .text {
		max-width: @textWidth * 0.6;
	}
}

// Portrait tablets
@media only screen and (max-width: @medWidth) {
	.article-section > blockquote p,
	.article-section p.drop-cap,
	.quote-with-portrait .quote-text,
	.slide .text-container .text {
	 	font-size: 1.4em;
	 	line-height: 1.1;
	}
}

// Big phones, small tablets
@media only screen and (max-width: @smallWidth) {
	.quote-with-portrait-wrapper {
		max-width: @textWidth;
		box-sizing: border-box;
		padding: 0 0;
		margin: 1em 40px;
		.quote-rules, .portrait {
			position: relative;
			width: 100%;
		}

		&.portrait-left, &.portrait-right, & {
			.portrait {
				float: none;				
			}
			.quote-rules {
				.clearfix;
				height: auto;
				left: auto;
				right: auto;
				margin-top: 1em;
				&:before, &:after { position: relative; top: auto; bottom: auto; }
			}
			.quote-wrapper {
				padding: 1em 0;
			}
		}
	}
}

// Phones
@media only screen and (max-width: @smallerWidth) {

}

// FF specific
@-moz-document url-prefix() {
  @media only screen and (max-width: @smallerWidth) {

  }
}

// responsive images
.quote-with-portrait .media {
	background-size: cover;
	background-position: center center;
	// 3:2 ratio
	 &:before {
	 	content: '';
	 	display: block;
	 	padding-top: 66.66%
	 }
}

.quote-with-portrait.cheyanne .media { .responsiveBGPortrait('cheyanne-MPB29400b'); }
.quote-with-portrait.baldwin .media { .responsiveBGPortrait('Melanie-Baldwin_MG_7018'); }
.quote-with-portrait.bracken .media { .responsiveBGPortrait('georgina-bracken_MG_6892'); }
.quote-with-portrait.ryan .media { .responsiveBGPortrait('maurie-ryan-MPB29044a'); }

